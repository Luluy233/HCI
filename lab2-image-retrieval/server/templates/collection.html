<!-- collection.html -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <title>My Collection</title>
    <style>
        #image-container img {
            width: 200px;
            height: 200px;
        }
    </style>
</head>
<body>
    <h1>My Collection</h1>
    <div class="img-container">
    </div>

    <script>
        $(document).ready(function() {
            $.ajax({
                url: '/show_collection',  // 向后端发送请求的URL
                type: 'POST',
                success: function(data) {  // 请求成功的回调函数
                    // var imagePaths = data.image_paths;
                    //     var container = $('#image-container');
                    //     $.each(imagePaths, function(index, imagePath) {
                    //         console.log(imagePath);
                    //         var img = $('<img>').attr('src', imagePath);
                    //         container.append(img);
                            
                    //     });
                    // 动态创建并添加标签元素
                    const Container = document.querySelector('.img-container');
                    data.img_paths.forEach(path => {
                        const img = document.createElement('img');
                        img.src=path;
                        Container.appendChild(img);
                    });
                },
                error: function() {  // 请求失败的回调函数
                    console.log('请求失败');
                }
            });
        });
    </script>
</body>
</html>
